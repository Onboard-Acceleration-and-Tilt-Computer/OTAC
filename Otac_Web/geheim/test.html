<html>
<head>
<title>test</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.js" type="text/javascript">
</script>
    
<script type="text/javascript" language="javascript">

    var mqtt;
    var reconnectTimeout=2000;
    var host="wiedenfeld.selfhost.eu"//change this
    var port=1883;
    
    function onConnect(){
    console.log("Connected");
    massage=new Paho.MQTT.Message("hello world");
    massage.destinationName ='sensor1'
    mqtt.send(message);
    }
    function mqttconnect(){
        console.log("connecting to"+ host +""+port);
        mqtt=new Paho.MQTT.Client(host,port,"clientjs");
        var options={
            timeoute:3,
            onSuccess:onConnect,
        };
    mqqt.connect(options);
    }
    </script>
    </head>
    <body>
    <h1>Main Body></h1>
        <script>
            mqttconnect();
        </script>
    </body>
</html>